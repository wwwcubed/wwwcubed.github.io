"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3640],{54299:function(t,e,r){r.d(e,{C:function(){return ContractPrimarySale}});var a=r(66964),n=r(31665);let ContractPrimarySale=class ContractPrimarySale{featureName=n.d3.name;constructor(t){this.contractWrapper=t}async getRecipient(){let t=await this.contractWrapper.read("primarySaleRecipient",[]);return t}setRecipient=(0,a.f)(async t=>a.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"setPrimarySaleRecipient",args:[t]}))}},3640:function(t,e,r){r.r(e),r.d(e,{SmartContract:function(){return SmartContract}});var a,n=r(4411),i=r(35618),s=r(31665),o=r(66964),c=r(2593),p=r(61744),d=r(19485),m=r(29251),l=r(32046),h=r(8198),u=r(38776),g=r(51903),f=r(1604),A=r(33436);let W=((a={})[a.None=0]="None",a[a.AddAdmin=1]="AddAdmin",a[a.RemoveAdmin=2]="RemoveAdmin",a),y={startDate:c.O$.from(0),expirationDate:c.O$.from(0),approvedCallTargets:[],nativeTokenLimitPerTransaction:"0"},w=f.z.object({startDate:n.S,expirationDate:n.E,nativeTokenLimitPerTransaction:s.cv.default(0),approvedCallTargets:f.z.union([f.z.array(s.b9),f.z.literal("*")])}),v=f.z.array(f.z.object({signer:s.b9,makeAdmin:f.z.boolean(),permissions:w})),P=[{name:"signer",type:"address"},{name:"approvedTargets",type:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256"},{name:"permissionStartTimestamp",type:"uint128"},{name:"permissionEndTimestamp",type:"uint128"},{name:"reqValidityStartTimestamp",type:"uint128"},{name:"reqValidityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],T=[{name:"signer",type:"address"},{name:"isAdmin",type:"uint8"},{name:"approvedTargets",type:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256"},{name:"permissionStartTimestamp",type:"uint128"},{name:"permissionEndTimestamp",type:"uint128"},{name:"reqValidityStartTimestamp",type:"uint128"},{name:"reqValidityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}];let AccountPermissions=class AccountPermissions{featureName=s.di.name;constructor(t){this.contractWrapper=t}getAddress(){return this.contractWrapper.address}hasDuplicateSigners(t){let e={},r=t.map(t=>t.signer);for(let t of r){if(e[t])return!0;e[t]=!0}return!1}parseSignerPermissionsStruct(t){return{startDate:new Date(1e3*parseInt(t.startTimestamp.toString())),expirationDate:new Date(1e3*parseInt(t.endTimestamp.toString())),nativeTokenLimitPerTransaction:c.O$.from(t.nativeTokenLimitPerTransaction),approvedCallTargets:t.approvedTargets}}async sendSignerPermissionRequest(t,e,r){let{payload:a,signature:n}=await this.generatePayload(t,e,r);return o.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"setPermissionsForSigner",args:[a,n]})}async generatePayload(t,e,r){let a={signer:t,isAdmin:r.valueOf(),approvedTargets:"*"===e.approvedCallTargets?[s.ct]:e.approvedCallTargets,nativeTokenLimitPerTransaction:p.parseEther(e.nativeTokenLimitPerTransaction),permissionStartTimestamp:e.startDate,permissionEndTimestamp:e.expirationDate,reqValidityStartTimestamp:0,reqValidityEndTimestamp:c.O$.from(Math.floor(new Date(Date.now()+31536e7).getTime()/1e3)),uid:(0,g.L)(void 0)},n=await this.contractWrapper.getChainID(),i=this.contractWrapper.getSigner();(0,u.Z)(i,"No signer available");let o=await this.contractWrapper.signTypedData(i,{name:"Account",version:"1",chainId:n,verifyingContract:this.getAddress()},{SignerPermissionRequest:T},a);return{payload:a,signature:o}}async generateLegacyPayload(t,e){if("*"===e.approvedCallTargets)throw Error("Wildcard call targets are not supported on legacy account permissions contract, please deploy an updated contract factory.");let r={signer:t,approvedTargets:e.approvedCallTargets,nativeTokenLimitPerTransaction:p.parseEther(e.nativeTokenLimitPerTransaction),permissionStartTimestamp:e.startDate,permissionEndTimestamp:e.expirationDate,reqValidityStartTimestamp:0,reqValidityEndTimestamp:c.O$.from(Math.floor(new Date(Date.now()+31536e7).getTime()/1e3)),uid:(0,g.L)(void 0)},a=await this.contractWrapper.getChainID(),n=this.contractWrapper.getSigner();(0,u.Z)(n,"No signer available");let i=await this.contractWrapper.signTypedData(n,{name:"Account",version:"1",chainId:a,verifyingContract:this.getAddress()},{SignerPermissionRequest:P},r);return{payload:r,signature:i}}async isAdmin(t){let e=await (0,s.aL)(t);return await this.contractWrapper.read("isAdmin",[e])}async isSigner(t){let e=await (0,s.aL)(t);return await this.contractWrapper.read("isActiveSigner",[e])}async getAllAdmins(){return await this.contractWrapper.read("getAllAdmins",[])}async getAllSigners(){let t=await this.contractWrapper.read("getAllActiveSigners",[]);return await Promise.all(t.map(async t=>{let e=t.signer,r=this.parseSignerPermissionsStruct(t);return{signer:e,permissions:r}}))}async getAllAdminsAndSigners(){let t=await this.getAllAdmins(),e=t.map(t=>({isAdmin:!0,signer:t,permissions:{startDate:new Date(0),expirationDate:new Date(0),nativeTokenLimitPerTransaction:c.O$.from(0),approvedCallTargets:[]}})),r=await this.getAllSigners();return[...e,...r]}grantAdminPermissions=(0,o.f)(async t=>{let e=await (0,s.aL)(t);return await this.sendSignerPermissionRequest(e,y,W.AddAdmin)});revokeAdminPermissions=(0,o.f)(async t=>{let e=await (0,s.aL)(t);return await this.sendSignerPermissionRequest(e,y,W.RemoveAdmin)});grantPermissions=(0,o.f)(async(t,e)=>{let r=await (0,s.aL)(t),a=await w.parseAsync(e);return await this.sendSignerPermissionRequest(r,a,W.None)});updatePermissions=(0,o.f)(async(t,e)=>{let r=await (0,s.aL)(t),a=await w.parseAsync(e);if(await this.isAdmin(r))throw Error("Signer is already an admin. Cannot update permissions of an existing admin.");if(!await this.isSigner(r))throw Error("Signer does not already have permissions. You can grant permissions using `grantPermissions`.");return await this.sendSignerPermissionRequest(r,a,W.None)});revokeAccess=(0,o.f)(async t=>{let e=await (0,s.aL)(t);return await this.sendSignerPermissionRequest(e,{startDate:c.O$.from(0),expirationDate:c.O$.from(0),approvedCallTargets:[],nativeTokenLimitPerTransaction:"0"},W.None)});approveTargetForSigner=(0,o.f)(async(t,e)=>{let r=await (0,s.aL)(t),a=await (0,s.aL)(e);if(await this.isAdmin(r))throw Error("Signer is already an admin. Cannot approve targets for an admin.");if(!await this.isSigner(r))throw Error("Signer does not already have permissions. You can grant permissions using `grantPermissions`.");let n=await this.contractWrapper.read("getPermissionsForSigner",[r]);if(n.approvedTargets.includes(e))throw Error("Target is already approved");let i=[...n.approvedTargets,a];return await this.sendSignerPermissionRequest(r,{startDate:c.O$.from(n.startTimestamp),expirationDate:c.O$.from(n.endTimestamp),approvedCallTargets:i,nativeTokenLimitPerTransaction:n.nativeTokenLimitPerTransaction.toString()},W.None)});disapproveTargetForSigner=(0,o.f)(async(t,e)=>{let r=await (0,s.aL)(t),a=await (0,s.aL)(e);if(await this.isAdmin(r))throw Error("Signer is already an admin. Cannot approve targets for an admin.");if(!await this.isSigner(r))throw Error("Signer does not already have permissions. You can grant permissions using `grantPermissions`.");let n=await this.contractWrapper.read("getPermissionsForSigner",[r]);if(!n.approvedTargets.includes(a))throw Error("Target is currently not approved");let i=n.approvedTargets.filter(t=>d.getAddress(t)!==d.getAddress(a));return await this.sendSignerPermissionRequest(r,{startDate:c.O$.from(n.startTimestamp),expirationDate:c.O$.from(n.endTimestamp),approvedCallTargets:i,nativeTokenLimitPerTransaction:n.nativeTokenLimitPerTransaction.toString()},W.None)});resetAllPermissions=(0,o.f)(async t=>{let e=await v.parseAsync(t);if(this.hasDuplicateSigners(e))throw Error("Duplicate signers found in input.");let r=[],a=[],n=[],i=await this.getAllAdmins(),s=e.filter(t=>t.makeAdmin).map(t=>t.signer);i.forEach(async t=>{if(!s.includes(t)){let e=(await this.sendSignerPermissionRequest(t,y,W.RemoveAdmin)).encode();r.push(e)}});let c=await this.getAllSigners(),p=e.filter(t=>!t.makeAdmin).map(t=>t.signer);for(let t of(await Promise.all(c.map(async t=>{if(!p.includes(t.signer)){let e=(await this.sendSignerPermissionRequest(t.signer,y,W.None)).encode();n.push(e)}})),e))if(t.makeAdmin)(await this.sendSignerPermissionRequest(t.signer,y,W.AddAdmin)).encode();else{let e=(await this.sendSignerPermissionRequest(t.signer,t.permissions,W.None)).encode();a.push(e)}let d=[];return r.forEach(t=>{d.push(t)}),n.forEach(t=>{d.push(t)}),a.forEach(t=>{d.push(t)}),o.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"multicall",args:[d]})})};let Account=class Account{featureName=s.dj.name;constructor(t){this.contractWrapper=t,this.accountPermissions=this.detectAccountPermissions()}detectAccountPermissions(){if((0,i.d)(this.contractWrapper,"AccountPermissions")||(0,i.d)(this.contractWrapper,"AccountPermissionsV1"))return new AccountPermissions(this.contractWrapper)}getAddress(){return this.contractWrapper.address}async isAdmin(t){return(0,n.a)(this.accountPermissions,s.di).isAdmin(t)}async isSigner(t){return(0,n.a)(this.accountPermissions,s.di).isSigner(t)}async getAllAdmins(){return(0,n.a)(this.accountPermissions,s.di).getAllAdmins()}async getAllSigners(){return(0,n.a)(this.accountPermissions,s.di).getAllSigners()}async getAllAdminsAndSigners(){return(0,n.a)(this.accountPermissions,s.di).getAllAdminsAndSigners()}grantAdminPermissions=(0,o.f)(async t=>(0,n.a)(this.accountPermissions,s.di).grantAdminPermissions.prepare(t));revokeAdminPermissions=(0,o.f)(async t=>(0,n.a)(this.accountPermissions,s.di).revokeAdminPermissions.prepare(t));grantPermissions=(0,o.f)(async(t,e)=>(0,n.a)(this.accountPermissions,s.di).grantPermissions.prepare(t,e));updatePermissions=(0,o.f)(async(t,e)=>(0,n.a)(this.accountPermissions,s.di).updatePermissions.prepare(t,e));revokeAccess=(0,o.f)(async t=>(0,n.a)(this.accountPermissions,s.di).revokeAccess.prepare(t));approveTargetForSigner=(0,o.f)(async(t,e)=>(0,n.a)(this.accountPermissions,s.di).approveTargetForSigner.prepare(t,e));disapproveTargetForSigner=(0,o.f)(async(t,e)=>(0,n.a)(this.accountPermissions,s.di).disapproveTargetForSigner.prepare(t,e));resetAllPermissions=(0,o.f)(async t=>(0,n.a)(this.accountPermissions,s.di).resetAllPermissions.prepare(t))};let AccountFactory=class AccountFactory{featureName=s.dk.name;constructor(t){this.contractWrapper=t,this.events=new i.a(this.contractWrapper)}getAddress(){return this.contractWrapper.address}async predictAccountAddress(t,e){let r=m.Y0("");return e&&(r=e),this.contractWrapper.read("getAddress",[t,r])}async getAssociatedAccounts(t){return this.contractWrapper.read("getAccountsOfSigner",[t])}async getAllAccounts(){return await this.contractWrapper.read("getAllAccounts",[])}async isAccountDeployed(t,e){let r=await this.predictAccountAddress(t,e);return(0,s.av)(r,this.contractWrapper.getProvider())}createAccount=(0,o.f)(async(t,e)=>{if(await this.isAccountDeployed(t,e))throw Error(`Account already deployed for admin: ${t}`);let r=m.Y0("");return e&&(r=e),o.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"createAccount",args:[t,r],parse:t=>{let e=this.contractWrapper.parseLogs("AccountCreated",t?.logs);return{address:e[0].args.account,receipt:t}}})})};let ContractPublishedMetadata=class ContractPublishedMetadata{constructor(t,e){this.contractWrapper=t,this.storage=e}async get(){return this._cachedMetadata||(this._cachedMetadata=await (0,s.K)(this.contractWrapper.address,this.contractWrapper.getProvider(),this.storage,this.contractWrapper.options)),this._cachedMetadata}async extractSources(){let t=await this.get();return(0,s.ao)(t,this.storage)}async extractFunctions(){let t;try{t=await this.get()}catch(t){}return(0,s.a2)(s.bj.parse(this.contractWrapper.abi),t?.metadata)}async extractEvents(){let t;try{t=await this.get()}catch(t){}return function(t,e){let r=s.bj.parse(t||[]),a=r.filter(t=>"event"===t.type),n=[];for(let t of a){let r=(0,s.a0)(t.name,e,"events");n.push({inputs:t.inputs||[],outputs:t.outputs||[],name:t.name||"unknown",comment:r})}return n}(s.bj.parse(this.contractWrapper.abi),t?.metadata)}};let ExtensionManager=class ExtensionManager{featureName=s.dl.name;constructor(t){this.contractWrapper=t}getAddress(){return this.contractWrapper.readContract.address}async getAll(){let t=await this.contractWrapper.readContract.getAllExtensions();return t}async get(t){let e=await this.contractWrapper.readContract.getExtension(t);return e}async getExtensionAddress(t){let e=await this.get(t);return e.metadata.implementation}async getAllFunctions(t){let e=await this.get(t);return e.functions}async getExtensionForFunction(t){let e=t.functionSelector;e||((0,u.Z)(t.functionSignature,"Atleast one of function selector and signature must be provided"),e=l.id(t.functionSignature).substring(0,10));let r=await this.contractWrapper.readContract.getMetadataForFunction(e);return r}async getExtensionAddressForFunction(t){let e=await this.getExtensionForFunction(t);return e.implementation}add=(0,o.f)(async t=>o.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"addExtension",args:[t.extension],parse:async e=>{let r=this.contractWrapper.parseLogs("ExtensionAdded",e.logs);if(r.length<1)throw Error("No ExtensionAdded event found");let a=t.extensionAbi?s.bj.parse(t.extensionAbi):(await (0,s.K)(t.extension.metadata.implementation,this.contractWrapper.getProvider(),this.contractWrapper.storage)).abi,n=this.filterAbiForAdd(a,t.extension),i=(0,s.aj)([s.bj.parse(this.contractWrapper.abi),n]);return this.contractWrapper.updateAbi(i),e}}));addDeployed=(0,o.f)(async t=>{let e=t.extensionAbi;if(!e){let r=await (0,s.K)(t.extensionAddress,this.contractWrapper.getProvider(),this.contractWrapper.storage,this.contractWrapper.options);e=r.abi}(0,u.Z)(e,"Require extension ABI");let r="";if(t.extensionMetadata){if("string"==typeof t.extensionMetadata)r=t.extensionMetadata;else{let e=await s.bB.parseAsync(t.extensionMetadata);r=await this.contractWrapper.storage.upload(e)}}let a=(0,A.b)(s.bj.parse(e)),n={metadata:{name:t.extensionName,metadataURI:r,implementation:t.extensionAddress},functions:a};return this.add.prepare({extension:n,extensionAbi:e})});addPublished=(0,o.f)(async t=>{let e=t.version||"latest",{deployedExtensionAddress:r,extensionMetadata:a}=await this.deployExtension(t.extensionName,t.publisherAddress||s.aH,e);return this.addDeployed.prepare({extensionName:t.extensionName,extensionAddress:r,extensionMetadata:t.extensionMetadataOverride||a})});replace=(0,o.f)(async t=>o.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"replaceExtension",args:[t.extension],parse:async e=>{let r=this.contractWrapper.parseLogs("ExtensionReplaced",e.logs);if(r.length<1)throw Error("No ExtensionReplaced event found");let a=t.extensionAbi?s.bj.parse(t.extensionAbi):(await (0,s.K)(t.extension.metadata.implementation,this.contractWrapper.getProvider(),this.contractWrapper.storage)).abi,n=this.filterAbiForRemove(s.bj.parse(this.contractWrapper.abi),a),i=this.filterAbiForAdd(a,t.extension),o=(0,s.aj)([n,i]);return this.contractWrapper.updateAbi(o),e}}));replaceDeployed=(0,o.f)(async t=>{let e=t.extensionAbi;if(!e){let r=await (0,s.K)(t.extensionAddress,this.contractWrapper.getProvider(),this.contractWrapper.storage,this.contractWrapper.options);e=r.abi}(0,u.Z)(e,"Require extension ABI");let r="";if(t.extensionMetadata){if("string"==typeof t.extensionMetadata)r=t.extensionMetadata;else{let e=await s.bB.parseAsync(t.extensionMetadata);r=await this.contractWrapper.storage.upload(e)}}let a=(0,A.b)(s.bj.parse(e)),n={metadata:{name:t.extensionName,metadataURI:r,implementation:t.extensionAddress},functions:a};return this.replace.prepare({extension:n,extensionAbi:e})});replacePublished=(0,o.f)(async t=>{let e=t.version||"latest",{deployedExtensionAddress:r,extensionMetadata:a}=await this.deployExtension(t.extensionName,t.publisherAddress||s.aH,e);return this.replaceDeployed.prepare({extensionName:t.extensionName,extensionAddress:r,extensionMetadata:t.extensionMetadataOverride||a})});remove=(0,o.f)(async t=>{let e=await this.getExtensionAddress(t.extensionName);return o.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"removeExtension",args:[t.extensionName],parse:async t=>{let r=this.contractWrapper.parseLogs("ExtensionRemoved",t.logs);if(r.length<1)throw Error("No ExtensionRemoved event found");let a=(await (0,s.K)(e,this.contractWrapper.getProvider(),this.contractWrapper.storage)).abi,n=this.filterAbiForRemove(s.bj.parse(this.contractWrapper.abi),a);return this.contractWrapper.updateAbi(n),t}})});filterAbiForAdd(t,e){let r=new h.vU(t),a=e.functions.map(t=>t.functionSelector),n=t.filter(t=>{let e=Object.values(new h.vU([t]).functions);if(0===e.length)return!1;let n=r.getSighash(e[0]);return a.includes(n)});return n}filterAbiForRemove(t,e){let r=new h.vU(t),a=new h.vU(e),n=Object.values(a.functions).map(t=>a.getSighash(t)),i=t.filter(t=>{let e=Object.values(new h.vU([t]).functions);if(0===e.length)return!1;let a=r.getSighash(e[0]);return!n.includes(a)});return i}async deployExtension(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"latest",a=await (0,s.aI)(e,t,r,this.contractWrapper.storage,this.contractWrapper.options.clientId,this.contractWrapper.options.secretKey),n=await (0,A.g)(a.metadataUri,this.contractWrapper.storage,this.contractWrapper.getProvider(),"",this.contractWrapper.options.clientId,this.contractWrapper.options.secretKey),i=n.find(t=>"implementation"===t.type)?.transaction.predictedAddress,o=n.filter(t=>t.transaction.data&&t.transaction.data.length>0),c=o.filter(t=>"infra"!==t.type).map(t=>t.transaction),p=o.filter(t=>"infra"===t.type).map(t=>t.transaction),d=this.contractWrapper.getSigner();for(let t of((0,u.Z)(d,"Signer is required"),await (0,A.a)(d,p,{}),c))try{await (0,A.d)(d,t)}catch(e){console.debug(`Error deploying contract at ${t.predictedAddress}`,e?.message)}return{deployedExtensionAddress:i,extensionMetadata:a.metadataUri}}};let Airdrop20=class Airdrop20{featureName=s.dm.name;constructor(t){this.contractWrapper=t}getAddress(){return this.contractWrapper.address}drop=(0,o.f)(async(t,e,r)=>o.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"airdropERC20",args:[t,e,r],parse:t=>{let e=this.contractWrapper.parseLogs("AirdropFailed",t.logs),a=e.map(t=>({recipient:t.args.recipient,amount:t.args.amount.toString()}));return{successfulDropCount:r.length-a.length,failedDropCount:a.length,failedDrops:a}}}))};let Airdrop721=class Airdrop721{featureName=s.dn.name;constructor(t){this.contractWrapper=t}getAddress(){return this.contractWrapper.address}drop=(0,o.f)(async(t,e,r)=>o.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"airdropERC721",args:[t,e,r],parse:t=>{let e=this.contractWrapper.parseLogs("AirdropFailed",t.logs),a=e.map(t=>({recipient:t.args.recipient,tokenId:t.args.tokenId.toNumber()}));return{successfulDropCount:r.length-a.length,failedDropCount:a.length,failedDrops:a}}}))};let Airdrop1155=class Airdrop1155{featureName=s.dp.name;constructor(t){this.contractWrapper=t}getAddress(){return this.contractWrapper.address}drop=(0,o.f)(async(t,e,r)=>o.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:"airdropERC1155",args:[t,e,r],parse:t=>{let e=this.contractWrapper.parseLogs("AirdropFailed",t.logs),a=e.map(t=>({recipient:t.args.recipient,tokenId:t.args.tokenId.toNumber(),amount:t.args.amount.toString()}));return{successfulDropCount:r.length-a.length,failedDropCount:a.length,failedDrops:a}}}))};var S=r(87029),x=r(72555),b=r(52027),E=r(96708),C=r(38783),R=r(54299),D=r(13157),L=r(10331),k=r(59002),F=r(15492);r(13550),r(77191),r(54146),r(64063);let SmartContract=class SmartContract{get abi(){return s.bj.parse(this.contractWrapper.abi||[])}get royalties(){return(0,n.a)(this.detectRoyalties(),s.d1)}get roles(){return(0,n.a)(this.detectRoles(),s.d0)}get sales(){return(0,n.a)(this.detectPrimarySales(),s.d3)}get platformFees(){return(0,n.a)(this.detectPlatformFees(),s.dq)}get owner(){return(0,n.a)(this.detectOwnable(),s.d2)}get erc20(){return(0,n.a)(this.detectErc20(),s.cH)}get erc721(){return(0,n.a)(this.detectErc721(),s.c_)}get erc1155(){return(0,n.a)(this.detectErc1155(),s.df)}get app(){return(0,n.a)(this.detectApp(),s.cJ)}get directListings(){return(0,n.a)(this.detectDirectListings(),s.dw)}get englishAuctions(){return(0,n.a)(this.detectEnglishAuctions(),s.dx)}get offers(){return(0,n.a)(this.detectOffers(),s.dy)}get airdrop20(){return(0,n.a)(this.detectAirdrop20(),s.dm)}get airdrop721(){return(0,n.a)(this.detectAirdrop721(),s.dn)}get airdrop1155(){return(0,n.a)(this.detectAirdrop1155(),s.dp)}get accountFactory(){return(0,n.a)(this.detectAccountFactory(),s.dk)}get account(){return(0,n.a)(this.detectAccount(),s.dj)}get extensions(){return(0,n.a)(this.detectBaseRouter(),s.dl)}get chainId(){return this._chainId}constructor(t,e,r,a){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5?arguments[5]:void 0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new s.cq(t,e,r,n,a);this._chainId=o,this.storage=a,this.contractWrapper=c,this.events=new i.a(this.contractWrapper),this.encoder=new S.C(this.contractWrapper),this.interceptor=new x.C(this.contractWrapper),this.estimator=new i.G(this.contractWrapper),this.publishedMetadata=new ContractPublishedMetadata(this.contractWrapper,this.storage),this.metadata=new i.C(this.contractWrapper,s.bg,this.storage)}onNetworkUpdated(t){this.contractWrapper.updateSignerOrProvider(t)}getAddress(){return this.contractWrapper.address}prepare(t,e,r){return o.T.fromContractWrapper({contractWrapper:this.contractWrapper,method:t,args:e,overrides:r})}async call(t,e,r){return this.contractWrapper.call(t,e,r)}detectRoyalties(){if((0,i.d)(this.contractWrapper,"Royalty")){let t=new i.C(this.contractWrapper,s.bg,this.storage);return new b.C(this.contractWrapper,t)}}detectRoles(){if((0,i.d)(this.contractWrapper,"Permissions"))return new C.C(this.contractWrapper,s.G)}detectPrimarySales(){if((0,i.d)(this.contractWrapper,"PrimarySale"))return new R.C(this.contractWrapper)}detectPlatformFees(){if((0,i.d)(this.contractWrapper,"PlatformFee"))return new E.C(this.contractWrapper)}detectErc20(){if((0,i.d)(this.contractWrapper,"ERC20"))return new L.E(this.contractWrapper,this.storage,this.chainId)}detectErc721(){if((0,i.d)(this.contractWrapper,"ERC721"))return new k.E(this.contractWrapper,this.storage,this.chainId)}detectErc1155(){if((0,i.d)(this.contractWrapper,"ERC1155"))return new D.E(this.contractWrapper,this.storage,this.chainId)}detectOwnable(){if((0,i.d)(this.contractWrapper,"Ownable"))return new b.a(this.contractWrapper)}detectApp(){let t=new i.C(this.contractWrapper,s.bg,this.storage);return(0,i.d)(this.contractWrapper,"AppURI")?new i.b(this.contractWrapper,t,this.storage):(0,i.d)(this.contractWrapper,"ContractMetadata")?new i.b(this.contractWrapper,t,this.storage):void 0}detectDirectListings(){if((0,i.d)(this.contractWrapper,"DirectListings"))return new F.M(this.contractWrapper,this.storage)}detectEnglishAuctions(){if((0,i.d)(this.contractWrapper,"EnglishAuctions"))return new F.a(this.contractWrapper,this.storage)}detectOffers(){if((0,i.d)(this.contractWrapper,"Offers"))return new F.b(this.contractWrapper,this.storage)}detectBaseRouter(){if((0,i.d)(this.contractWrapper,s.dl.name))return new ExtensionManager(this.contractWrapper)}detectAirdrop20(){if((0,i.d)(this.contractWrapper,"AirdropERC20"))return new Airdrop20(this.contractWrapper)}detectAirdrop721(){if((0,i.d)(this.contractWrapper,"AirdropERC721"))return new Airdrop721(this.contractWrapper)}detectAirdrop1155(){if((0,i.d)(this.contractWrapper,"AirdropERC1155"))return new Airdrop1155(this.contractWrapper)}detectAccountFactory(){if((0,i.d)(this.contractWrapper,s.dk.name))return new AccountFactory(this.contractWrapper)}detectAccount(){if((0,i.d)(this.contractWrapper,s.dj.name))return new Account(this.contractWrapper)}}}}]);